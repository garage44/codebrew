# Garage44 Cursor AI Rules

Organized modular rules for the Garage44 monorepo AI assistant.

## Linting Strategy

**Linting is handled automatically by hooks** - agents should NOT manually lint after each change.

- **After file edits**: Auto-formatting via `.cursor/hooks/format.sh`
- **Before commits**: Lefthook runs `lint-staged` to auto-fix issues
- **Commit messages**: Commitlint validates conventional commit format

See `.cursor/rules/linting.mdc` for details and TypeScript inference strategy.

## Commands

- `/commit` - Create conventional commit, commit changes, and push
- `/fix-lint` - Fix linting issues in changed files only (optimized)
- `/lint-workspace [package]` - Lint entire workspace or specific package

## Rule Organization

Cursor rules are organized in the `.cursor/rules/` directory for better modularity and context-aware activation:

```
.cursor/rules/
├── linting.mdc      # Linting workflow and TypeScript inference strategy
├── adr.mdc          # Architecture Decision Records consultation workflow
├── backend.mdc      # Backend development (Bun.serve, WebSocket server, CLI)
├── frontend.mdc     # Frontend development (Preact, DeepSignal, WebSocket client)
└── pr-deployment.mdc # PR deployment testing workflow
```

## Quick Reference

- **Linting**: See `.cursor/rules/linting.mdc` - hook-based workflow and TypeScript fix strategy
- **Architecture & Decisions**: See `.cursor/rules/adr.mdc` and `adr/README.md`
- **Backend Development**: See `.cursor/rules/backend.mdc`
- **Frontend Development**: See `.cursor/rules/frontend.mdc`
- **PR Deployment Testing**: See `.cursor/rules/pr-deployment.mdc`

All rules use YAML frontmatter with glob patterns and are applied automatically based on context.

---

**Note**: This root `.cursorrules` file serves as an entry point. The detailed rules are in `.cursor/rules/*.mdc` for better organization and maintainability.
